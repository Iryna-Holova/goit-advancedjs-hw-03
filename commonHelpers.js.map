{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/common.js","../src/js/toaster.js","../src/js/templates.js","../src/js/cat-renderer.js","../src/js/handlers.js","../src/js/select.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\n// Set default headers and base URL for all axios requests\naxios.defaults.headers.common['x-api-key'] =\n  'live_sQSiU8IUrkSu8g32YTEYKLB8DcWcIsBNMk0omc8QjPKH9Bo7QndZdmjMVf3YCCwv';\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\n\n/**\n * Fetches a list of cat breeds from TheCatAPI.\n * @returns {Promise<Array>} A promise that resolves to an array of cat breeds.\n */\nfunction fetchBreeds() {\n  return axios.get('/breeds').then(response => response.data);\n}\n\n/**\n * Fetches a cat info by breed ID from TheCatAPI.\n * @param {string} breedId - The ID of the cat breed.\n * @returns {Promise<Object>} A promise that resolves to an object representing the cat info.\n */\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`/images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0]);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","const common = {\n  LS_KEY_OPTION: 'user-option',\n  PLACEHOLDER_LOADING: 'Loading...',\n  PLACEHOLDER_SUCCESS: 'Select a cat breed...',\n  PLACEHOLDER_ERROR: 'Breeds not found...',\n};\n\nexport { common };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n/**\n * Display an error toast message using iziToast.\n *\n * @param {string} message - The error message to be displayed.\n * @returns {void}\n * @throws {Error} Throws an error if the iziToast library is not available.\n * @example\n * // Usage\n * import { toastError } from './helpers/toaster';\n * toastError('This is an error message.');\n */\nfunction toastError(message) {\n  iziToast.error({\n    message,\n    position: 'topCenter',\n  });\n}\n\nexport { toastError };\n","/**\n * Generates HTML markup for cat information.\n * @param {Object} data - An object containing cat information.\n * @param {string} data.url - The URL of the cat image.\n * @param {Array} data.breeds - An array of cat breeds.\n * @param {string} data.breeds[0].name - The name of the cat breed.\n * @param {string} data.breeds[0].description - The description of the cat breed.\n * @param {string} data.breeds[0].temperament - The temperament of the cat breed.\n * @returns {string} HTML markup for the cat information.\n */\nconst catInfoMarkup = data => `\n  <img class=\"cat-img\" src=\"${data.url}\" alt=\"\" />\n  <div class=\"cat-text\">\n    <h1 class=\"cat-title\">${data.breeds[0].name}</h1>\n    <p>${data.breeds[0].description}</p>\n    <p><span class=\"cat-temp\">Temperament:</span> ${data.breeds[0].temperament}</p>\n  </div>`;\n\n/**\n * Generates HTML markup for an error message when a cat breed is not found.\n * @param {string} breed - The name of the cat breed that was not found.\n * @returns {string} HTML markup for the error message.\n */\nconst catErrorMarkup = breed => `\n  <p class=\"error\">Oops! ${breed} not found :(<br>Try reloading the page!</p>`;\n\nexport { catInfoMarkup, catErrorMarkup };\n","import { fetchCatByBreed } from './cat-api';\nimport { catErrorMarkup, catInfoMarkup } from './templates';\nimport { toastError } from './toaster';\n\nconst elements = {\n  container: document.querySelector('.cat-info'),\n  spinner: document.querySelector('.loader-spinner'),\n};\n\n/**\n * Render cat information for the selected breed.\n * @param {Object} cat - Selected cat breed.\n * @param {string} cat.value - Cat breed identifier.\n * @param {string} cat.text - Cat breed name.\n */\nfunction renderCat(cat) {\n  elements.container.innerHTML = '';\n  elements.container.style.opacity = '0';\n  elements.spinner.style.display = 'block';\n\n  fetchCatByBreed(cat.value)\n    .then(data => {\n      elements.container.innerHTML = catInfoMarkup(data);\n    })\n    .catch(error => {\n      elements.container.innerHTML = catErrorMarkup(cat.text);\n      toastError(error.message);\n    })\n    .finally(() => {\n      elements.spinner.style.display = 'none';\n      elements.container.style.opacity = '1';\n    });\n}\n\nexport { renderCat };\n","import { renderCat } from './cat-renderer';\nimport { common } from './common';\n\n/**\n * Event handler for changing the selected option.\n * @param {SlimSelect[]} selected - Selected option.\n */\nfunction handleOptionChange([option]) {\n  if (option.placeholder) return; // Cancel event if option is not selected\n  renderCat(option);\n  localStorage.setItem(common.LS_KEY_OPTION, option.value);\n}\n\nexport { handleOptionChange };\n","import SlimSelect from 'slim-select';\n// import 'slim-select/dist/slimselect.css';\nimport { handleOptionChange } from './handlers';\nimport { common } from './common';\n\n/**\n * Initialization of the SlimSelect dropdown.\n * @type {SlimSelect}\n */\nconst select = new SlimSelect({\n  select: '#select',\n  settings: {\n    disabled: true,\n    placeholderText: common.PLACEHOLDER_LOADING,\n  },\n  events: {\n    afterChange: handleOptionChange,\n  },\n});\n\n/**\n * Enable the SlimSelect dropdown and set provided options.\n *\n * @param {Object[]} options - The array of options to be set.\n * @param {string} options[].text - The text to be displayed for the option.\n * @param {string} options[].value - The value associated with the option.\n * @returns {void}\n * @example\n * // Usage\n * import { activateSelect } from './select';\n * activateSelect([{ text: 'Siamese', value: 'siam' }]);\n */\nfunction activateSelect(options) {\n  select.enable();\n  select.setData([\n    { placeholder: true, text: common.PLACEHOLDER_SUCCESS },\n    ...options,\n  ]);\n}\n\n/**\n * Set the selected option in the SlimSelect dropdown.\n *\n * @param {Object} option - The selected option.\n * @param {string} option.value - The value associated with the option.\n * @returns {void}\n * @example\n * // Usage\n * import { setSelectedOption } from './select';\n * setSelectedOption({ value: 'siamese' });\n */\nfunction setSelectedOption(option) {\n  select.setSelected(option);\n}\n\n/**\n * Disable the SlimSelect dropdown and set an error message.\n *\n * @returns {void}\n * @example\n * // Usage\n * import { setErrorSelect } from './select';\n * setErrorSelect();\n */\nfunction setErrorSelect() {\n  select.disable();\n  select.setData([{ placeholder: true, text: common.PLACEHOLDER_ERROR }]);\n}\n\nexport { select, activateSelect, setErrorSelect, setSelectedOption };\n","import { fetchBreeds } from './cat-api';\nimport { common } from './common';\nimport { toastError } from './toaster';\nimport { activateSelect, setErrorSelect, setSelectedOption } from './select';\n\n/**\n * Load the list of cat breeds.\n * @returns {Promise<void>}\n */\nfunction loadBreeds() {\n  fetchBreeds()\n    .then(data => {\n      const options = data.map(({ id, name }) => ({ text: name, value: id }));\n      activateSelect(options);\n      const userOption = localStorage.getItem(common.LS_KEY_OPTION);\n      if (userOption) {\n        setSelectedOption(userOption);\n      }\n    })\n    .catch(error => {\n      setErrorSelect();\n      toastError(error.message);\n    });\n}\n\n// Initialization after the page is loaded.\ndocument.addEventListener('DOMContentLoaded', loadBreeds);\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","common","toastError","message","iziToast","catInfoMarkup","data","catErrorMarkup","breed","elements","renderCat","cat","error","handleOptionChange","option","select","SlimSelect","activateSelect","options","setSelectedOption","setErrorSelect","loadBreeds","id","name","userOption"],"mappings":"owBAGAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEACFA,EAAM,SAAS,QAAU,+BAMzB,SAASC,GAAc,CACrB,OAAOD,EAAM,IAAI,SAAS,EAAE,KAAKE,GAAYA,EAAS,IAAI,CAC5D,CAOA,SAASC,EAAgBC,EAAS,CAChC,OAAOJ,EACJ,IAAI,4BAA4BI,GAAS,EACzC,KAAKF,GAAYA,EAAS,KAAK,EAAE,CACtC,CCxBA,MAAMG,EAAS,CACb,cAAe,cACf,oBAAqB,aACrB,oBAAqB,wBACrB,kBAAmB,qBACrB,ECSA,SAASC,EAAWC,EAAS,CAC3BC,EAAS,MAAM,CACb,QAAAD,EACA,SAAU,WACd,CAAG,CACH,CCTA,MAAME,EAAgBC,GAAQ;AAAA,8BACAA,EAAK;AAAA;AAAA,4BAEPA,EAAK,OAAO,GAAG;AAAA,SAClCA,EAAK,OAAO,GAAG;AAAA,oDAC4BA,EAAK,OAAO,GAAG;AAAA,UAQ7DC,EAAiBC,GAAS;AAAA,2BACLA,gDCpBrBC,EAAW,CACf,UAAW,SAAS,cAAc,WAAW,EAC7C,QAAS,SAAS,cAAc,iBAAiB,CACnD,EAQA,SAASC,EAAUC,EAAK,CACtBF,EAAS,UAAU,UAAY,GAC/BA,EAAS,UAAU,MAAM,QAAU,IACnCA,EAAS,QAAQ,MAAM,QAAU,QAEjCV,EAAgBY,EAAI,KAAK,EACtB,KAAKL,GAAQ,CACZG,EAAS,UAAU,UAAYJ,EAAcC,CAAI,CACvD,CAAK,EACA,MAAMM,GAAS,CACdH,EAAS,UAAU,UAAYF,EAAeI,EAAI,IAAI,EACtDT,EAAWU,EAAM,OAAO,CAC9B,CAAK,EACA,QAAQ,IAAM,CACbH,EAAS,QAAQ,MAAM,QAAU,OACjCA,EAAS,UAAU,MAAM,QAAU,GACzC,CAAK,CACL,CCzBA,SAASI,EAAmB,CAACC,CAAM,EAAG,CAChCA,EAAO,cACXJ,EAAUI,CAAM,EAChB,aAAa,QAAQb,EAAO,cAAea,EAAO,KAAK,EACzD,CCFA,MAAMC,EAAS,IAAIC,EAAW,CAC5B,OAAQ,UACR,SAAU,CACR,SAAU,GACV,gBAAiBf,EAAO,mBACzB,EACD,OAAQ,CACN,YAAaY,CACd,CACH,CAAC,EAcD,SAASI,EAAeC,EAAS,CAC/BH,EAAO,OAAM,EACbA,EAAO,QAAQ,CACb,CAAE,YAAa,GAAM,KAAMd,EAAO,mBAAqB,EACvD,GAAGiB,CACP,CAAG,CACH,CAaA,SAASC,EAAkBL,EAAQ,CACjCC,EAAO,YAAYD,CAAM,CAC3B,CAWA,SAASM,GAAiB,CACxBL,EAAO,QAAO,EACdA,EAAO,QAAQ,CAAC,CAAE,YAAa,GAAM,KAAMd,EAAO,iBAAmB,CAAA,CAAC,CACxE,CC1DA,SAASoB,GAAa,CACpBxB,EAAa,EACV,KAAKS,GAAQ,CACZ,MAAMY,EAAUZ,EAAK,IAAI,CAAC,CAAE,GAAAgB,EAAI,KAAAC,MAAY,CAAE,KAAMA,EAAM,MAAOD,CAAE,EAAG,EACtEL,EAAeC,CAAO,EACtB,MAAMM,EAAa,aAAa,QAAQvB,EAAO,aAAa,EACxDuB,GACFL,EAAkBK,CAAU,CAEpC,CAAK,EACA,MAAMZ,GAAS,CACdQ,IACAlB,EAAWU,EAAM,OAAO,CAC9B,CAAK,CACL,CAGA,SAAS,iBAAiB,mBAAoBS,CAAU"}