{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/js/toaster.js","../src/js/templates.js","../src/js/cat-renderer.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\n\n// Set default headers and base URL for all axios requests\naxios.defaults.headers.common['x-api-key'] =\n  'live_sQSiU8IUrkSu8g32YTEYKLB8DcWcIsBNMk0omc8QjPKH9Bo7QndZdmjMVf3YCCwv';\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\n\n/**\n * Fetches a list of cat breeds from TheCatAPI.\n * @returns {Promise<Array>} A promise that resolves to an array of cat breeds.\n */\nfunction fetchBreeds() {\n  return axios.get('/breeds').then(response => response.data);\n}\n\n/**\n * Fetches a cat info by breed ID from TheCatAPI.\n * @param {string} breedId - The ID of the cat breed.\n * @returns {Promise<Object>} A promise that resolves to an object representing the cat info.\n */\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`/images/search?breed_ids=${breedId}`)\n    .then(response => response.data[0]);\n}\n\nexport { fetchBreeds, fetchCatByBreed };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n/**\n * Display an error toast message using iziToast.\n *\n * @param {string} message - The error message to be displayed.\n * @returns {void}\n * @throws {Error} Throws an error if the iziToast library is not available.\n * @example\n * // Usage\n * import { toastError } from './toaster';\n * toastError('This is an error message.');\n */\nfunction toastError(message) {\n  iziToast.error({\n    message,\n    position: 'center',\n    timeout: 30000,\n    progressBar: false,\n    close: false,\n    buttons: [\n      [\n        '<button>OK</button>',\n        function (instance, toast) {\n          instance.hide(\n            {\n              transitionOut: 'fadeOutUp',\n            },\n            toast\n          );\n        },\n      ],\n    ],\n  });\n}\n\nexport { toastError };\n","/**\n * Generates HTML markup for cat information.\n * @param {Object} data - An object containing cat information.\n * @param {string} data.url - The URL of the cat image.\n * @param {Array} data.breeds - An array of cat breeds.\n * @param {string} data.breeds[0].name - The name of the cat breed.\n * @param {string} data.breeds[0].description - The description of the cat breed.\n * @param {string} data.breeds[0].temperament - The temperament of the cat breed.\n * @returns {string} HTML markup for the cat information.\n */\nconst catInfoMarkup = data => `\n  <img class=\"cat-img\" src=\"${data.url}\" alt=\"\" />\n  <div class=\"cat-text\">\n    <h1 class=\"cat-title\">${data.breeds[0].name}</h1>\n    <p>${data.breeds[0].description}</p>\n    <p><span class=\"cat-temp\">Temperament:</span> ${data.breeds[0].temperament}</p>\n  </div>`;\n\n/**\n * Generates HTML markup for an error message when a cat breed is not found.\n * @param {string} breed - The name of the cat breed that was not found.\n * @returns {string} HTML markup for the error message.\n */\nconst catErrorMarkup = breed => `\n  <p class=\"error\">Oops! ${breed} not found :(<br>Try reloading the page!</p>`;\n\nexport { catInfoMarkup, catErrorMarkup };\n","import { fetchCatByBreed } from './cat-api';\nimport { catErrorMarkup, catInfoMarkup } from './templates';\n\nconst elements = {\n  container: document.querySelector('.cat-info'),\n  spinner: document.querySelector('.loader-spinner'),\n};\n\n/**\n * Render cat information for the selected breed.\n * @param {Object} cat - Selected cat breed.\n * @param {string} cat.value - Cat breed identifier.\n * @param {string} cat.text - Cat breed name.\n */\nfunction renderCat(cat) {\n  elements.container.innerHTML = '';\n  elements.container.style.opacity = '0';\n  elements.spinner.style.display = 'block';\n\n  fetchCatByBreed(cat.value)\n    .then(data => {\n      elements.container.innerHTML = catInfoMarkup(data);\n    })\n    .catch(() => {\n      elements.container.innerHTML = catErrorMarkup(cat.text);\n    })\n    .finally(() => {\n      elements.spinner.style.display = 'none';\n      elements.container.style.opacity = '1';\n    });\n}\n\nexport { renderCat };\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport { fetchBreeds } from './cat-api';\nimport { toastError } from './toaster';\nimport { renderCat } from './cat-renderer';\n\nconst elements = {\n  spinner: document.querySelector('.loader-spinner'),\n  select: document.querySelector('.breed-select'),\n};\n\n/**\n * Load the list of cat breeds.\n * @returns {Promise<void>}\n */\nfunction loadBreeds() {\n  fetchBreeds()\n    .then(data => {\n      elements.select.style.display = 'flex';\n      const options = data.map(({ id, name }) => ({ text: name, value: id }));\n\n      new SlimSelect({\n        select: '#select',\n        data: [\n          { placeholder: true, text: 'Select a cat breed...' },\n          ...options,\n        ],\n        events: {\n          afterChange: ([newVal]) => {\n            renderCat(newVal);\n          },\n        },\n      });\n    })\n    .catch(() => {\n      toastError('Please try again later...');\n    })\n    .finally(() => {\n      elements.spinner.style.display = 'none';\n    });\n}\n\n// Initialization after the page is loaded.\ndocument.addEventListener('DOMContentLoaded', loadBreeds);\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","toastError","message","iziToast","instance","toast","catInfoMarkup","data","catErrorMarkup","breed","elements","renderCat","cat","loadBreeds","options","id","name","SlimSelect","newVal"],"mappings":"+vBAGAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEACFA,EAAM,SAAS,QAAU,+BAMzB,SAASC,GAAc,CACrB,OAAOD,EAAM,IAAI,SAAS,EAAE,KAAKE,GAAYA,EAAS,IAAI,CAC5D,CAOA,SAASC,EAAgBC,EAAS,CAChC,OAAOJ,EACJ,IAAI,4BAA4BI,GAAS,EACzC,KAAKF,GAAYA,EAAS,KAAK,EAAE,CACtC,CCVA,SAASG,EAAWC,EAAS,CAC3BC,EAAS,MAAM,CACb,QAAAD,EACA,SAAU,SACV,QAAS,IACT,YAAa,GACb,MAAO,GACP,QAAS,CACP,CACE,sBACA,SAAUE,EAAUC,EAAO,CACzBD,EAAS,KACP,CACE,cAAe,WAChB,EACDC,CACZ,CACS,CACF,CACF,CACL,CAAG,CACH,CCzBA,MAAMC,EAAgBC,GAAQ;AAAA,8BACAA,EAAK;AAAA;AAAA,4BAEPA,EAAK,OAAO,GAAG;AAAA,SAClCA,EAAK,OAAO,GAAG;AAAA,oDAC4BA,EAAK,OAAO,GAAG;AAAA,UAQ7DC,EAAiBC,GAAS;AAAA,2BACLA,gDCrBrBC,EAAW,CACf,UAAW,SAAS,cAAc,WAAW,EAC7C,QAAS,SAAS,cAAc,iBAAiB,CACnD,EAQA,SAASC,EAAUC,EAAK,CACtBF,EAAS,UAAU,UAAY,GAC/BA,EAAS,UAAU,MAAM,QAAU,IACnCA,EAAS,QAAQ,MAAM,QAAU,QAEjCX,EAAgBa,EAAI,KAAK,EACtB,KAAKL,GAAQ,CACZG,EAAS,UAAU,UAAYJ,EAAcC,CAAI,CACvD,CAAK,EACA,MAAM,IAAM,CACXG,EAAS,UAAU,UAAYF,EAAeI,EAAI,IAAI,CAC5D,CAAK,EACA,QAAQ,IAAM,CACbF,EAAS,QAAQ,MAAM,QAAU,OACjCA,EAAS,UAAU,MAAM,QAAU,GACzC,CAAK,CACL,CCxBA,MAAMA,EAAW,CACf,QAAS,SAAS,cAAc,iBAAiB,EACjD,OAAQ,SAAS,cAAc,eAAe,CAChD,EAMA,SAASG,GAAa,CACpBhB,EAAa,EACV,KAAKU,GAAQ,CACZG,EAAS,OAAO,MAAM,QAAU,OAChC,MAAMI,EAAUP,EAAK,IAAI,CAAC,CAAE,GAAAQ,EAAI,KAAAC,MAAY,CAAE,KAAMA,EAAM,MAAOD,CAAE,EAAG,EAEtE,IAAIE,EAAW,CACb,OAAQ,UACR,KAAM,CACJ,CAAE,YAAa,GAAM,KAAM,uBAAyB,EACpD,GAAGH,CACJ,EACD,OAAQ,CACN,YAAa,CAAC,CAACI,CAAM,IAAM,CACzBP,EAAUO,CAAM,CACjB,CACF,CACT,CAAO,CACP,CAAK,EACA,MAAM,IAAM,CACXjB,EAAW,2BAA2B,CAC5C,CAAK,EACA,QAAQ,IAAM,CACbS,EAAS,QAAQ,MAAM,QAAU,MACvC,CAAK,CACL,CAGA,SAAS,iBAAiB,mBAAoBG,CAAU"}